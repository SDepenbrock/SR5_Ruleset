<?xml version="1.0" encoding="iso-8859-1"?>

<!-- Please see the license.html file included with this distribution for 
	attribution and copyright information. -->

<root>
	<template name="windowtitlebar">
		<genericcontrol>
			<bounds>0,0,-1,40</bounds>
			<frame name="windowtitle" />
			<script>
				local widgetTitle = nil;

				function onInit()
				if static then
				widgetTitle = addTextWidget("windowtitle", static[1]);
				elseif field then
				local nodeTitle = window.getDatabaseNode().getChild(field[1]);
				widgetTitle = addTextWidget("windowtitle", nodeTitle.getValue());
				nodeTitle.onUpdate = onUpdate;
				end

				window.onSizeChanged = updatePosition;
				updatePosition();
				end

				function onUpdate()
				if widgetTitle then
				local nodeTitle = window.getDatabaseNode().getChild(field[1]);
				widgetTitle.setText(nodeTitle.getValue());
				end
				end

				function updatePosition()
				if widgetTitle then
				local wTitle, hTitle = widgetTitle.getSize();
				local wWindow, hWindow = window.getSize();
				local wControl = wTitle + 80;
				if (wControl > wWindow) then
				wControl = wWindow;
				end
				setStaticBounds((wWindow - wControl) / 2, 0, wControl, 40);
				end
				end
			</script>
		</genericcontrol>
	</template>

	<template name="scrollbar">
		<scrollbarcontrol>
			<anchored position="right" offset="-5,-5" width="20" />
			<frame name="scrollbar_base" offset="0,12,0,12" />
			<normal name="scrollbutton_normal" />
		</scrollbarcontrol>
	</template>

	<template name="tabs_charsheet">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="50" />
				<right offset="-4" />
			</anchored>
		</buttongroup_tabs>
	</template>
	<template name="tabs_recordsheet">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="50" />
				<right offset="-4" />
			</anchored>
		</buttongroup_tabs>
	</template>
	<template name="tabs_partysheet">
		<buttongroup_tabs name="tabs">
			<anchored width="18" height="92">
				<top offset="50" />
				<right offset="-4" />
			</anchored>
		</buttongroup_tabs>
	</template>

	<template name="resize">
		<genericcontrol>
			<anchored height="18" width="18">
				<right />
				<bottom />
			</anchored>
			<icon>window_resize</icon>
			<disabled />
		</genericcontrol>
	</template>
	<template name="resize_chatbox">
		<resize />
	</template>
	<template name="resize_campaignlist_tables">
		<resize>
			<anchored>
				<right offset="-10" />
				<bottom offset="-20" />
			</anchored>
		</resize>
	</template>
	<template name="resize_campaignlistwithtabs">
		<resize>
			<anchored>
				<right offset="-10" />
				<bottom offset="-12" />
			</anchored>
		</resize>
	</template>
	<template name="resize_referencepage">
		<resize>
			<anchored>
				<right offset="-10" />
				<bottom offset="-6" />
			</anchored>
		</resize>
	</template>
	<template name="resize_utilitybox">
		<resize>
			<anchored>
				<right offset="-10" />
				<bottom offset="-10" />
			</anchored>
		</resize>
	</template>
	<template name="resize_utilitybox2">
		<resize>
			<anchored>
				<right offset="-7" />
				<bottom offset="-8" />
			</anchored>
		</resize>
	</template>
	<template name="resize_utilitybox3">
		<resize>
			<anchored>
				<right offset="-6" />
				<bottom offset="-8" />
			</anchored>
		</resize>
	</template>
	<template name="resize_charselect">
		<resize>
			<anchored>
				<right offset="-5" />
				<bottom offset="-7" />
			</anchored>
		</resize>
	</template>
	<template name="resize_tokenbag">
		<resize>
			<anchored>
				<right offset="-16" />
				<bottom offset="-16" />
			</anchored>
		</resize>
	</template>
	<template name="resize_imagebox">
		<genericcontrol>
			<anchored height="18" width="18">
				<right offset="-20" />
				<bottom offset="-22" />
			</anchored>
			<icon>window_resize_filled</icon>
			<disabled />
		</genericcontrol>
	</template>
	<template name="resize_storybox">
		<resize>
			<anchored>
				<right offset="-10" />
				<bottom offset="-5" />
			</anchored>
		</resize>
	</template>
	<template name="resize_charsheet">
		<resize>
			<anchored>
				<right offset="-10" />
				<bottom offset="-10" />
			</anchored>
		</resize>
	</template>
	<template name="resize_recordsheet">
		<resize>
			<anchored>
				<right offset="-10" />
				<bottom offset="-10" />
			</anchored>
		</resize>
	</template>
	<template name="resize_ctbox">
		<resize>
			<anchored>
				<right offset="-7" />
				<bottom offset="-7" />
			</anchored>
		</resize>
	</template>
	<template name="resize_partysheet">
		<resize>
			<anchored>
				<right offset="-10" />
				<bottom offset="-8" />
			</anchored>
		</resize>
	</template>

	<template name="close">
		<buttoncontrol>
			<anchored height="24" width="24">
				<top />
				<right />
			</anchored>
			<icon normal="button_close" pressed="button_close_down" hover="button_close_hover" />
			<script>
				function onButtonPress()
				window.close();
				end
			</script>
		</buttoncontrol>
	</template>
	<template name="close_campaignlist_tables">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="-8" />
			</anchored>
		</close>
	</template>
	<template name="close_campaignlist">
		<close>
			<anchored>
				<top offset="1" />
				<right offset="-16" />
			</anchored>
		</close>
	</template>
	<template name="close_referencepage">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="-9" />
			</anchored>
		</close>
	</template>
	<template name="close_charselect">
		<close>
			<anchored>
				<top offset="18" />
				<right offset="-28" />
			</anchored>
		</close>
	</template>
	<template name="close_tokenbag">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="-16" />
			</anchored>
		</close>
	</template>
	<template name="close_utilitybox">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="-8" />
			</anchored>
		</close>
	</template>
	<template name="close_utilitybox2">
		<close>
			<anchored>
				<top offset="8" />
				<right offset="-10" />
			</anchored>
		</close>
	</template>
	<template name="close_utilitybox3">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="-6" />
			</anchored>
		</close>
	</template>
	<template name="close_imagebox">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-19" />
			</anchored>
		</close>
	</template>
	<template name="close_storybox">
		<close>
			<anchored>
				<top offset="1" />
				<right offset="-12" />
			</anchored>
		</close>
	</template>
	<template name="close_charsheet">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="-8" />
			</anchored>
		</close>
	</template>
	<template name="close_recordsheet">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="-8" />
			</anchored>
		</close>
	</template>
	<template name="close_ctbox">
		<close>
			<anchored>
				<top offset="7" />
				<right offset="-19" />
			</anchored>
		</close>
	</template>
	<template name="close_partysheet">
		<close>
			<anchored>
				<top offset="0" />
				<right offset="-8" />
			</anchored>
		</close>
	</template>
</root>
